{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\RailBite\\\\src\\\\context\\\\CartContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nexport const useCart = () => {\n  _s();\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};\n_s(useCart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const CartProvider = ({\n  children\n}) => {\n  _s2();\n  const [cart, setCart] = useState([]);\n  useEffect(() => {\n    // Load cart from localStorage\n    const storedCart = localStorage.getItem('railbiteCart');\n    if (storedCart) {\n      setCart(JSON.parse(storedCart));\n    }\n  }, []);\n  const saveCart = newCart => {\n    setCart(newCart);\n    localStorage.setItem('railbiteCart', JSON.stringify(newCart));\n  };\n  const addToCart = (name, price, image = null) => {\n    const existingItem = cart.find(item => item.name === name);\n    if (existingItem) {\n      const updatedCart = cart.map(item => item.name === name ? {\n        ...item,\n        quantity: item.quantity + 1\n      } : item);\n      saveCart(updatedCart);\n    } else {\n      const newItem = {\n        id: Date.now(),\n        name,\n        price,\n        quantity: 1,\n        image\n      };\n      saveCart([...cart, newItem]);\n    }\n  };\n  const removeFromCart = itemId => {\n    const updatedCart = cart.filter(item => item.id !== itemId);\n    saveCart(updatedCart);\n  };\n  const updateQuantity = (itemId, change) => {\n    const updatedCart = cart.map(item => {\n      if (item.id === itemId) {\n        const newQuantity = item.quantity + change;\n        return newQuantity > 0 ? {\n          ...item,\n          quantity: newQuantity\n        } : null;\n      }\n      return item;\n    }).filter(Boolean);\n    saveCart(updatedCart);\n  };\n  const clearCart = () => {\n    saveCart([]);\n  };\n  const getCartCount = () => {\n    return cart.reduce((sum, item) => sum + item.quantity, 0);\n  };\n  const getSubtotal = () => {\n    return cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  };\n  const getTotal = () => {\n    const subtotal = getSubtotal();\n    const vat = Math.round(subtotal * 0.05);\n    const deliveryFee = 50;\n    return subtotal + vat + deliveryFee;\n  };\n  const value = {\n    cart,\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    clearCart,\n    getCartCount,\n    getSubtotal,\n    getTotal\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 10\n  }, this);\n};\n_s2(CartProvider, \"5+HPoxSo1E/C3go3F1eDhM/DDhE=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","jsxDEV","_jsxDEV","CartContext","useCart","_s","context","Error","CartProvider","children","_s2","cart","setCart","storedCart","localStorage","getItem","JSON","parse","saveCart","newCart","setItem","stringify","addToCart","name","price","image","existingItem","find","item","updatedCart","map","quantity","newItem","id","Date","now","removeFromCart","itemId","filter","updateQuantity","change","newQuantity","Boolean","clearCart","getCartCount","reduce","sum","getSubtotal","getTotal","subtotal","vat","Math","round","deliveryFee","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/GitHub/RailBite/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\r\n\r\nconst CartContext = createContext();\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error('useCart must be used within a CartProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cart, setCart] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Load cart from localStorage\r\n    const storedCart = localStorage.getItem('railbiteCart');\r\n    if (storedCart) {\r\n      setCart(JSON.parse(storedCart));\r\n    }\r\n  }, []);\r\n\r\n  const saveCart = (newCart) => {\r\n    setCart(newCart);\r\n    localStorage.setItem('railbiteCart', JSON.stringify(newCart));\r\n  };\r\n\r\n  const addToCart = (name, price, image = null) => {\r\n    const existingItem = cart.find(item => item.name === name);\r\n    \r\n    if (existingItem) {\r\n      const updatedCart = cart.map(item =>\r\n        item.name === name ? { ...item, quantity: item.quantity + 1 } : item\r\n      );\r\n      saveCart(updatedCart);\r\n    } else {\r\n      const newItem = {\r\n        id: Date.now(),\r\n        name,\r\n        price,\r\n        quantity: 1,\r\n        image\r\n      };\r\n      saveCart([...cart, newItem]);\r\n    }\r\n  };\r\n\r\n  const removeFromCart = (itemId) => {\r\n    const updatedCart = cart.filter(item => item.id !== itemId);\r\n    saveCart(updatedCart);\r\n  };\r\n\r\n  const updateQuantity = (itemId, change) => {\r\n    const updatedCart = cart.map(item => {\r\n      if (item.id === itemId) {\r\n        const newQuantity = item.quantity + change;\r\n        return newQuantity > 0 ? { ...item, quantity: newQuantity } : null;\r\n      }\r\n      return item;\r\n    }).filter(Boolean);\r\n    \r\n    saveCart(updatedCart);\r\n  };\r\n\r\n  const clearCart = () => {\r\n    saveCart([]);\r\n  };\r\n\r\n  const getCartCount = () => {\r\n    return cart.reduce((sum, item) => sum + item.quantity, 0);\r\n  };\r\n\r\n  const getSubtotal = () => {\r\n    return cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n  };\r\n\r\n  const getTotal = () => {\r\n    const subtotal = getSubtotal();\r\n    const vat = Math.round(subtotal * 0.05);\r\n    const deliveryFee = 50;\r\n    return subtotal + vat + deliveryFee;\r\n  };\r\n\r\n    const value = {\r\n    cart,\r\n    addToCart,\r\n    removeFromCart,\r\n    updateQuantity,\r\n    clearCart,\r\n    getCartCount,\r\n    getSubtotal,\r\n    getTotal\r\n  };\r\n\r\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}