{"ast":null,"code":"var _jsxFileName = \"E:\\\\RailBite\\\\RailBite-main (2)\\\\src\\\\context\\\\DeliveryStaffContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DeliveryStaffContext = /*#__PURE__*/createContext();\nexport const useDeliveryStaff = () => {\n  _s();\n  return useContext(DeliveryStaffContext);\n};\n_s(useDeliveryStaff, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const DeliveryStaffProvider = ({\n  children\n}) => {\n  _s2();\n  const [staffUser, setStaffUser] = useState(null);\n  const [isStaffAuthenticated, setIsStaffAuthenticated] = useState(false);\n  useEffect(() => {\n    const storedUser = localStorage.getItem('railbite_delivery_user');\n    const storedToken = localStorage.getItem('railbite_delivery_token');\n    if (storedUser && storedToken) {\n      const parsed = JSON.parse(storedUser);\n      if (parsed.role === 'delivery') {\n        setStaffUser(parsed);\n        setIsStaffAuthenticated(true);\n      } else {\n        localStorage.removeItem('railbite_delivery_token');\n        localStorage.removeItem('railbite_delivery_user');\n      }\n    }\n  }, []);\n  const staffLoginSuccess = (user, token) => {\n    if (user.role !== 'delivery') {\n      return {\n        success: false,\n        message: 'Access denied. Delivery staff only.'\n      };\n    }\n    localStorage.setItem('railbite_delivery_token', token);\n    localStorage.setItem('railbite_delivery_user', JSON.stringify(user));\n    setStaffUser(user);\n    setIsStaffAuthenticated(true);\n    return {\n      success: true\n    };\n  };\n  const staffLogout = () => {\n    localStorage.removeItem('railbite_delivery_token');\n    localStorage.removeItem('railbite_delivery_user');\n    setStaffUser(null);\n    setIsStaffAuthenticated(false);\n  };\n  const getToken = () => localStorage.getItem('railbite_delivery_token');\n  return /*#__PURE__*/_jsxDEV(DeliveryStaffContext.Provider, {\n    value: {\n      staffUser,\n      isStaffAuthenticated,\n      staffLoginSuccess,\n      staffLogout,\n      getToken\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s2(DeliveryStaffProvider, \"5GitHOvE+uIXg+UqzWtAH/C42Fs=\");\n_c = DeliveryStaffProvider;\nvar _c;\n$RefreshReg$(_c, \"DeliveryStaffProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","DeliveryStaffContext","useDeliveryStaff","_s","DeliveryStaffProvider","children","_s2","staffUser","setStaffUser","isStaffAuthenticated","setIsStaffAuthenticated","storedUser","localStorage","getItem","storedToken","parsed","JSON","parse","role","removeItem","staffLoginSuccess","user","token","success","message","setItem","stringify","staffLogout","getToken","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/RailBite/RailBite-main (2)/src/context/DeliveryStaffContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst DeliveryStaffContext = createContext();\r\n\r\nexport const useDeliveryStaff = () => useContext(DeliveryStaffContext);\r\n\r\nexport const DeliveryStaffProvider = ({ children }) => {\r\n    const [staffUser, setStaffUser] = useState(null);\r\n    const [isStaffAuthenticated, setIsStaffAuthenticated] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const storedUser = localStorage.getItem('railbite_delivery_user');\r\n        const storedToken = localStorage.getItem('railbite_delivery_token');\r\n        if (storedUser && storedToken) {\r\n            const parsed = JSON.parse(storedUser);\r\n            if (parsed.role === 'delivery') {\r\n                setStaffUser(parsed);\r\n                setIsStaffAuthenticated(true);\r\n            } else {\r\n                localStorage.removeItem('railbite_delivery_token');\r\n                localStorage.removeItem('railbite_delivery_user');\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const staffLoginSuccess = (user, token) => {\r\n        if (user.role !== 'delivery') {\r\n            return { success: false, message: 'Access denied. Delivery staff only.' };\r\n        }\r\n        localStorage.setItem('railbite_delivery_token', token);\r\n        localStorage.setItem('railbite_delivery_user', JSON.stringify(user));\r\n        setStaffUser(user);\r\n        setIsStaffAuthenticated(true);\r\n        return { success: true };\r\n    };\r\n\r\n    const staffLogout = () => {\r\n        localStorage.removeItem('railbite_delivery_token');\r\n        localStorage.removeItem('railbite_delivery_user');\r\n        setStaffUser(null);\r\n        setIsStaffAuthenticated(false);\r\n    };\r\n\r\n    const getToken = () => localStorage.getItem('railbite_delivery_token');\r\n\r\n    return (\r\n        <DeliveryStaffContext.Provider\r\n            value={{\r\n                staffUser,\r\n                isStaffAuthenticated,\r\n                staffLoginSuccess,\r\n                staffLogout,\r\n                getToken\r\n            }}\r\n        >\r\n            {children}\r\n        </DeliveryStaffContext.Provider>\r\n    );\r\n};\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9E,MAAMC,oBAAoB,gBAAGN,aAAa,CAAC,CAAC;AAE5C,OAAO,MAAMO,gBAAgB,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMP,UAAU,CAACK,oBAAoB,CAAC;AAAA;AAACE,EAAA,CAA1DD,gBAAgB;AAE7B,OAAO,MAAME,qBAAqB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EACnD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACY,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAEvEC,SAAS,CAAC,MAAM;IACZ,MAAMa,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,wBAAwB,CAAC;IACjE,MAAMC,WAAW,GAAGF,YAAY,CAACC,OAAO,CAAC,yBAAyB,CAAC;IACnE,IAAIF,UAAU,IAAIG,WAAW,EAAE;MAC3B,MAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACN,UAAU,CAAC;MACrC,IAAII,MAAM,CAACG,IAAI,KAAK,UAAU,EAAE;QAC5BV,YAAY,CAACO,MAAM,CAAC;QACpBL,uBAAuB,CAAC,IAAI,CAAC;MACjC,CAAC,MAAM;QACHE,YAAY,CAACO,UAAU,CAAC,yBAAyB,CAAC;QAClDP,YAAY,CAACO,UAAU,CAAC,wBAAwB,CAAC;MACrD;IACJ;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,iBAAiB,GAAGA,CAACC,IAAI,EAAEC,KAAK,KAAK;IACvC,IAAID,IAAI,CAACH,IAAI,KAAK,UAAU,EAAE;MAC1B,OAAO;QAAEK,OAAO,EAAE,KAAK;QAAEC,OAAO,EAAE;MAAsC,CAAC;IAC7E;IACAZ,YAAY,CAACa,OAAO,CAAC,yBAAyB,EAAEH,KAAK,CAAC;IACtDV,YAAY,CAACa,OAAO,CAAC,wBAAwB,EAAET,IAAI,CAACU,SAAS,CAACL,IAAI,CAAC,CAAC;IACpEb,YAAY,CAACa,IAAI,CAAC;IAClBX,uBAAuB,CAAC,IAAI,CAAC;IAC7B,OAAO;MAAEa,OAAO,EAAE;IAAK,CAAC;EAC5B,CAAC;EAED,MAAMI,WAAW,GAAGA,CAAA,KAAM;IACtBf,YAAY,CAACO,UAAU,CAAC,yBAAyB,CAAC;IAClDP,YAAY,CAACO,UAAU,CAAC,wBAAwB,CAAC;IACjDX,YAAY,CAAC,IAAI,CAAC;IAClBE,uBAAuB,CAAC,KAAK,CAAC;EAClC,CAAC;EAED,MAAMkB,QAAQ,GAAGA,CAAA,KAAMhB,YAAY,CAACC,OAAO,CAAC,yBAAyB,CAAC;EAEtE,oBACIb,OAAA,CAACC,oBAAoB,CAAC4B,QAAQ;IAC1BC,KAAK,EAAE;MACHvB,SAAS;MACTE,oBAAoB;MACpBW,iBAAiB;MACjBO,WAAW;MACXC;IACJ,CAAE;IAAAvB,QAAA,EAEDA;EAAQ;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACkB,CAAC;AAExC,CAAC;AAAC5B,GAAA,CApDWF,qBAAqB;AAAA+B,EAAA,GAArB/B,qBAAqB;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}